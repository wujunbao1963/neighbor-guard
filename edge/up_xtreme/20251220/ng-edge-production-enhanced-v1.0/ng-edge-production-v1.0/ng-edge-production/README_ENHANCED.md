# NG Edge Manager Enhanced - v1.0

## ğŸ¯ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ä¸€ä¸ª**å®Œæ•´å¢å¼ºç‰ˆ**çš„ NG Edge Managerï¼ŒåŒ…å«ï¼š

- âœ‹ **æ‰‹åŠ¨æ¨¡å¼**: æ‰‹å·¥è¾“å…¥ä¿¡å·ï¼ˆæµ‹è¯•/æ¼”ç¤ºï¼‰
- ğŸ“¹ **æ‘„åƒå¤´æ¨¡å¼**: å®æ—¶ YOLO æ£€æµ‹ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- ğŸ¨ **ç°ä»£åŒ– UI**: æ·±è‰²ä¸»é¢˜ã€å®æ—¶ç›‘æ§ã€äº‹ä»¶æ—¥å¿—
- ğŸ“Š **å®Œæ•´åŠŸèƒ½**: Pipelineã€Alarm Stateã€Event ç®¡ç†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆä¸‰æ­¥ï¼‰

### 1. è§£å‹

```bash
unzip ng-edge-production-enhanced-v1.0.zip
cd ng-edge-production-v1.0/ng-edge-production
```

### 2. å¯åŠ¨

```bash
./start.sh
```

### 3. è®¿é—®

æ‰“å¼€æµè§ˆå™¨ï¼š**http://localhost:8000**

---

## ğŸ® ä½¿ç”¨æ–¹æ³•

### æ‰‹åŠ¨æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰

1. æ‰“å¼€ http://localhost:8000
2. é»˜è®¤åœ¨ "Manual Input" æ¨¡å¼
3. é€‰æ‹©ä¿¡å·ç±»å‹ã€Zone IDã€ç½®ä¿¡åº¦
4. ç‚¹å‡» "Send Signal"
5. è§‚å¯Ÿç³»ç»ŸçŠ¶æ€å˜åŒ–

### æ‘„åƒå¤´æ¨¡å¼

1. ç‚¹å‡» "Real Camera" æŒ‰é’®
2. é…ç½®å‚æ•°ï¼š
   - Camera IP: 10.0.0.155
   - Detection FPS: 5.0
   - Threshold: 0.6
3. ç‚¹å‡» "Start Camera"
4. è§‚å¯Ÿå®æ—¶æ£€æµ‹ç»“æœ

---

## ğŸ“¦ æ–°å¢åŠŸèƒ½

### UI å¢å¼º
- âœ… åŒæ¨¡å¼åˆ‡æ¢
- âœ… å®æ—¶çŠ¶æ€ç›‘æ§
- âœ… æ‘„åƒå¤´çŠ¶æ€æŒ‡ç¤ºå™¨
- âœ… äº‹ä»¶æ—¥å¿—æ»šåŠ¨
- âœ… ç»Ÿè®¡æ•°æ®å±•ç¤º

### API å¢å¼º
- âœ… POST /api/camera/start
- âœ… POST /api/camera/stop
- âœ… GET /api/camera/status
- âœ… æ‰€æœ‰åŸæœ‰ API ä¿æŒä¸å˜

### åŠŸèƒ½å¢å¼º
- âœ… å®æ—¶ YOLO æ£€æµ‹
- âœ… è‡ªåŠ¨ Signal ç”Ÿæˆ
- âœ… Debounce è¿‡æ»¤
- âœ… Event è‡ªåŠ¨ç®¡ç†

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
ng-edge-production/
â”œâ”€â”€ start.sh                          â† å¯åŠ¨è„šæœ¬
â”œâ”€â”€ README_ENHANCED.md                â† æœ¬æ–‡ä»¶
â”œâ”€â”€ src/
â”‚   â””â”€â”€ ng_edge/
â”‚       â”œâ”€â”€ api/
â”‚       â”‚   â”œâ”€â”€ manager.py            â† å·²å¢å¼ºï¼ˆæ·»åŠ  camera APIï¼‰
â”‚       â”‚   â”œâ”€â”€ camera_api.py         â† æ–°å¢ï¼ˆæ‘„åƒå¤´ APIï¼‰
â”‚       â”‚   â””â”€â”€ edge_manager_enhanced.html  â† æ–°å¢ï¼ˆUIï¼‰
â”‚       â””â”€â”€ hardware/
â”‚           â””â”€â”€ camera_signal_source.py  â† æ–°å¢ï¼ˆSignal ç”Ÿæˆï¼‰
```

---

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

### Python ä¾èµ–

```bash
pip install fastapi uvicorn opencv-python ultralytics --break-system-packages
```

### ç¡¬ä»¶ï¼ˆå¯é€‰ï¼‰

- Reolink æ‘„åƒå¤´ï¼ˆç”¨äºå®æ—¶æ£€æµ‹æ¨¡å¼ï¼‰
- ä»»ä½•æ”¯æŒ RTSP çš„æ‘„åƒå¤´

---

## ğŸŒ è®¿é—®åœ°å€

- **UI ç•Œé¢**: http://localhost:8000
- **API æ–‡æ¡£**: http://localhost:8000/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/api/pipeline/status

---

## ğŸ“Š æµ‹è¯•åœºæ™¯

### åœºæ™¯ 1: å¿«é€Ÿæµ‹è¯•

```
1. å¯åŠ¨æœåŠ¡å™¨
2. ä½¿ç”¨æ‰‹åŠ¨æ¨¡å¼
3. å‘é€ "person_detected" ä¿¡å·
4. è§‚å¯Ÿ Alarm State: QUIET â†’ PRE
5. æ£€æŸ¥äº‹ä»¶æ—¥å¿—
```

### åœºæ™¯ 2: å®é™…éƒ¨ç½²

```
1. åˆ‡æ¢åˆ°æ‘„åƒå¤´æ¨¡å¼
2. é…ç½®æ‘„åƒå¤´ IP
3. å¯åŠ¨å®æ—¶æ£€æµ‹
4. åœ¨æ‘„åƒå¤´å‰èµ°åŠ¨
5. è§‚å¯Ÿè‡ªåŠ¨æ£€æµ‹å’Œ Signal ç”Ÿæˆ
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1: å¯åŠ¨å¤±è´¥

```bash
# æ£€æŸ¥ Python ç‰ˆæœ¬
python3 --version  # éœ€è¦ 3.10+

# å®‰è£…ä¾èµ–
pip install fastapi uvicorn --break-system-packages
```

### é—®é¢˜ 2: UI æ— æ³•è®¿é—®

```bash
# æ£€æŸ¥ç«¯å£
netstat -tuln | grep 8000

# æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—
# åº”è¯¥çœ‹åˆ° "Uvicorn running on http://0.0.0.0:8000"
```

### é—®é¢˜ 3: æ‘„åƒå¤´æ— æ³•è¿æ¥

```bash
# æ£€æŸ¥æ‘„åƒå¤´ IP
ping 10.0.0.155

# æ£€æŸ¥ RTSP ç«¯å£
nc -zv 10.0.0.155 554

# å®‰è£…ä¾èµ–
pip install opencv-python ultralytics --break-system-packages
```

---

## ğŸ“‹ åŸæœ‰åŠŸèƒ½

æ‰€æœ‰åŸæœ‰åŠŸèƒ½å®Œå…¨ä¿ç•™ï¼š

- âœ… Zone ç®¡ç†
- âœ… Entry Point ç®¡ç†
- âœ… Sensor æ¨¡æ‹Ÿ
- âœ… Pipeline æ§åˆ¶
- âœ… Drill æ‰§è¡Œ
- âœ… Ring Keypad é›†æˆ
- âœ… æ‰€æœ‰åŸæœ‰ API ç«¯ç‚¹

---

## ğŸ¯ ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**: 1.0 Enhanced
- **PRD**: v7.4.2
- **æ–°å¢**: åŒæ¨¡å¼è¾“å…¥ã€å®æ—¶æ‘„åƒå¤´æ£€æµ‹
- **å…¼å®¹**: å®Œå…¨å‘åå…¼å®¹åŸæœ‰åŠŸèƒ½

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼š

1. æŸ¥çœ‹ API æ–‡æ¡£: http://localhost:8000/docs
2. æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—è¾“å‡º
3. éªŒè¯ Python ä¾èµ–å·²å®‰è£…

---

**äº«å—å¢å¼ºçš„ NG Edge Managerï¼** ğŸ‰
